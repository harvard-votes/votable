{"ast":null,"code":"import _asyncToGenerator from\"/Users/albertqi/Desktop/Directory/CampusContact/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/albertqi/Desktop/Directory/CampusContact/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/albertqi/Desktop/Directory/CampusContact/client/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{useState,useEffect}from\"react\";import Contact from\"./Contact\";import TableHeader from\"./TableHeader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Table(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contacts=_useState2[0],setContacts=_useState2[1];// const fields = [\"Last Name\", \"First Name\", \"Email\", \"Phone Number\", \"House/Yard\", \"Suite\",\n//   \"Mailbox Center\", \"Mailbox Number\", \"Class Year\", \"Home City\", \"Home State\",\n//   \"Contact Status\", \"PTV Status\", \"Registration Status\", \"Stage of Voting Process\", \"Actions\"];\nvar fields=[\"Student Information\",\"Contact\",\"Hometown\",\"Mailbox\",\"Status\",\"\"];// Get all contacts\nvar getContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,jsonData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:8000/contacts\");case 3:response=_context.sent;_context.next=6;return response.json();case 6:jsonData=_context.sent;setContacts(jsonData);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getContacts(){return _ref.apply(this,arguments);};}();// Delete contact\nvar deleteContact=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!window.confirm(\"Are you sure you want to delete this contact?\")){_context2.next=11;break;}_context2.prev=1;_context2.next=4;return fetch(\"http://localhost:8000/contacts/\".concat(id),{method:\"DELETE\"});case 4:response=_context2.sent;setContacts(contacts.filter(function(contact){return contact.id!==id;}));_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.error(_context2.t0.message);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function deleteContact(_x){return _ref2.apply(this,arguments);};}();// const showDropdown = true;\nuseEffect(function(){getContacts();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:contacts.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col m-6 overflow-x-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-hidden sm:-mx-6 lg:-mx-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-block min-w-full sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden shadow-md sm:rounded-lg\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100 dark:bg-gray-700\",children:/*#__PURE__*/_jsx(\"tr\",{children:fields.map(function(field){return field===\"Status\"?/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"w-64 py-3 pl-4 text-xs font-medium tracking-wider text-left text-gray-700 uppercase dark:text-gray-400\",children:/*#__PURE__*/_jsxs(\"a\",{role:\"button\",id:\"dropdownButton\",className:\"inline-flex items-center\",children:[\"Status\",/*#__PURE__*/_jsx(\"svg\",{className:\"ml-1 w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]})},field):/*#__PURE__*/_jsx(TableHeader,{content:field},field);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:contacts.map(function(contact){return/*#__PURE__*/_jsx(Contact,{contact:contact,onDelete:deleteContact},contact.id);})})]})})})})}):/*#__PURE__*/_jsx(\"h4\",{className:\"m-3\",children:\"No Contacts\"})});}export default Table;","map":{"version":3,"sources":["/Users/albertqi/Desktop/Directory/CampusContact/client/src/components/Table.js"],"names":["React","useState","useEffect","Contact","TableHeader","Table","contacts","setContacts","fields","getContacts","fetch","response","json","jsonData","console","error","message","deleteContact","id","window","confirm","method","filter","contact","length","map","field"],"mappings":"uaAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,6IAEA,QAASC,CAAAA,KAAT,EAAiB,CACf,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eAEA;AACA;AACA;AAEA,GAAMC,CAAAA,MAAM,CAAG,CAAC,qBAAD,CAAwB,SAAxB,CAAmC,UAAnC,CAA+C,SAA/C,CACb,QADa,CACH,EADG,CAAf,CAGA;AACA,GAAMC,CAAAA,WAAW,0FAAG,+LAEOC,CAAAA,KAAK,CAAC,gCAAD,CAFZ,QAEVC,QAFU,qCAGOA,CAAAA,QAAQ,CAACC,IAAT,EAHP,QAGVC,QAHU,eAKhBN,WAAW,CAACM,QAAD,CAAX,CALgB,iFAOhBC,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EAPgB,qEAAH,kBAAXP,CAAAA,WAAW,0CAAjB,CAWA;AACA,GAAMQ,CAAAA,aAAa,2FAAG,kBAAOC,EAAP,uIAChBC,MAAM,CAACC,OAAP,CAAe,+CAAf,CADgB,mEAGOV,CAAAA,KAAK,0CAAmCQ,EAAnC,EAAyC,CACnEG,MAAM,CAAE,QAD2D,CAAzC,CAHZ,QAGVV,QAHU,gBAOhBJ,WAAW,CAACD,QAAQ,CAACgB,MAAT,CAAgB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACL,EAAR,GAAeA,EAAnB,EAAvB,CAAD,CAAX,CAPgB,mFAShBJ,OAAO,CAACC,KAAR,CAAc,aAAMC,OAApB,EATgB,sEAAH,kBAAbC,CAAAA,aAAa,6CAAnB,CAcA;AAEAf,SAAS,CAAC,UAAM,CACdO,WAAW,GACZ,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,yBACGH,QAAQ,CAACkB,MAAT,CAAkB,CAAlB,cACC,YAAK,SAAS,CAAC,qCAAf,uBACE,YAAK,SAAS,CAAC,qCAAf,uBACE,YAAK,SAAS,CAAC,yCAAf,uBACE,YAAK,SAAS,CAAC,yCAAf,uBACE,eAAO,SAAS,CAAC,YAAjB,wBACE,cAAO,SAAS,CAAC,8BAAjB,uBACE,oBACGhB,MAAM,CAACiB,GAAP,CAAW,SAACC,KAAD,QAAWA,CAAAA,KAAK,GAAK,QAAV,cACrB,WAAgB,KAAK,CAAC,KAAtB,CAA4B,SAAS,CAAC,wGAAtC,uBACE,WAAG,IAAI,CAAC,QAAR,CAAiB,EAAE,CAAC,gBAApB,CAAqC,SAAS,CAAC,0BAA/C,iCACE,YAAK,SAAS,CAAC,cAAf,CAA8B,IAAI,CAAC,MAAnC,CAA0C,MAAM,CAAC,cAAjD,CAAgE,OAAO,CAAC,WAAxE,CAAoF,KAAK,CAAC,4BAA1F,uBAAuH,aAAM,aAAa,CAAC,OAApB,CAA4B,cAAc,CAAC,OAA3C,CAAmD,WAAW,CAAE,CAAhE,CAAmE,CAAC,CAAC,gBAArE,EAAvH,EADF,GADF,EAASA,KAAT,CADqB,cAsBrB,KAAC,WAAD,EAAyB,OAAO,CAAEA,KAAlC,EAAkBA,KAAlB,CAtBU,EAAX,CADH,EADF,EADF,cA6BE,uBACGpB,QAAQ,CAACmB,GAAT,CAAa,SAACF,OAAD,qBACZ,KAAC,OAAD,EAA0B,OAAO,CAAEA,OAAnC,CAA4C,QAAQ,CAAEN,aAAtD,EAAcM,OAAO,CAACL,EAAtB,CADY,EAAb,CADH,EA7BF,GADF,EADF,EADF,EADF,EADD,cA6CC,WAAI,SAAS,CAAC,KAAd,yBA9CJ,EADF,CAoDD,CAED,cAAeb,CAAAA,KAAf","sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Contact from \"./Contact\";\nimport TableHeader from \"./TableHeader\";\n\nfunction Table() {\n  const [contacts, setContacts] = useState([]);\n\n  // const fields = [\"Last Name\", \"First Name\", \"Email\", \"Phone Number\", \"House/Yard\", \"Suite\",\n  //   \"Mailbox Center\", \"Mailbox Number\", \"Class Year\", \"Home City\", \"Home State\",\n  //   \"Contact Status\", \"PTV Status\", \"Registration Status\", \"Stage of Voting Process\", \"Actions\"];\n\n  const fields = [\"Student Information\", \"Contact\", \"Hometown\", \"Mailbox\",\n    \"Status\", \"\"];\n\n  // Get all contacts\n  const getContacts = async () => {\n    try {\n      const response = await fetch(\"http://localhost:8000/contacts\");\n      const jsonData = await response.json();\n\n      setContacts(jsonData);\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  // Delete contact\n  const deleteContact = async (id) => {\n    if (window.confirm(\"Are you sure you want to delete this contact?\")) {\n      try {\n        const response = await fetch(`http://localhost:8000/contacts/${id}`, {\n          method: \"DELETE\"\n        });\n\n        setContacts(contacts.filter(contact => contact.id !== id));\n      } catch (error) {\n        console.error(error.message);\n      }\n    }\n  };\n\n  // const showDropdown = true;\n\n  useEffect(() => {\n    getContacts();\n  }, []);\n\n  return (\n    <>\n      {contacts.length > 0 ? (\n        <div className=\"flex flex-col m-6 overflow-x-hidden\">\n          <div className=\"overflow-x-hidden sm:-mx-6 lg:-mx-8\">\n            <div className=\"inline-block min-w-full sm:px-6 lg:px-8\">\n              <div className=\"overflow-hidden shadow-md sm:rounded-lg\">\n                <table className=\"min-w-full\">\n                  <thead className=\"bg-gray-100 dark:bg-gray-700\">\n                    <tr>\n                      {fields.map((field) => field === \"Status\" ? (\n                        <th key={field} scope=\"col\" className=\"w-64 py-3 pl-4 text-xs font-medium tracking-wider text-left text-gray-700 uppercase dark:text-gray-400\">\n                          <a role=\"button\" id=\"dropdownButton\" className=\"inline-flex items-center\">Status\n                            <svg className=\"ml-1 w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" /></svg>\n                          </a>\n                          {/* {showDropdown ? (\n                            <ul className=\"dropdown-menu mt-3 py-2 min-w-max absolute bg-white text-base z-50 float-left text-left rounded-lg shadow-lg mt-1\" aria-labelledby=\"dropdownButton\">\n                              <li>\n                                <a href=\"#\" className=\"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white\">Dashboard</a>\n                              </li>\n                              <li>\n                                <a href=\"#\" className=\"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white\">Settings</a>\n                              </li>\n                              <li>\n                                <a href=\"#\" className=\"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white\">Earnings</a>\n                              </li>\n                              <li>\n                                <a href=\"#\" className=\"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white\">Sign out</a>\n                              </li>\n                            </ul>) : <></>} */}\n                        </th>\n                      ) : (\n                        <TableHeader key={field} content={field} />\n                      ))}\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {contacts.map((contact) => (\n                      <Contact key={contact.id} contact={contact} onDelete={deleteContact} />\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <h4 className=\"m-3\">No Contacts</h4>\n      )\n      }\n    </>\n  );\n}\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}