{"ast":null,"code":"import _asyncToGenerator from\"/Users/albertqi/Desktop/Directory/CampusContact/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/albertqi/Desktop/Directory/CampusContact/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/albertqi/Desktop/Directory/CampusContact/client/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{useState,useEffect}from\"react\";import Contact from\"./Contact\";import SearchBar from\"./SearchBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Table(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contacts=_useState2[0],setContacts=_useState2[1];// Get all contacts\nvar getContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,jsonData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:8000/contacts\");case 3:response=_context.sent;_context.next=6;return response.json();case 6:jsonData=_context.sent;setContacts(jsonData);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getContacts(){return _ref.apply(this,arguments);};}();// Delete contact\nvar deleteContact=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!window.confirm(\"Are you sure you want to delete this contact?\")){_context2.next=11;break;}_context2.prev=1;_context2.next=4;return fetch(\"http://localhost:8000/contacts/\".concat(id),{method:\"DELETE\"});case 4:response=_context2.sent;setContacts(contacts.filter(function(contact){return contact.id!==id;}));_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.error(_context2.t0.message);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function deleteContact(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){getContacts();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SearchBar,{onContactsChange:setContacts}),contacts.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-sm my-3\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:\"Last Name\"})}),/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"House/Yard\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Suite\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mailbox Center\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mailbox Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Class Year\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Home City\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Home State\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Should Contact\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Contact Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PTE Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Registration Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Stage of Voting Process\"}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"mr-1\",children:\"Actions\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contacts.map(function(contact){return/*#__PURE__*/_jsx(Contact,{contact:contact,onDelete:deleteContact},contact.id);})})]}):/*#__PURE__*/_jsx(\"h4\",{className:\"m-3\",children:\"No Contacts\"})]});}export default Table;","map":{"version":3,"sources":["/Users/albertqi/Desktop/Directory/CampusContact/client/src/components/Table.js"],"names":["React","useState","useEffect","Contact","SearchBar","Table","contacts","setContacts","getContacts","fetch","response","json","jsonData","console","error","message","deleteContact","id","window","confirm","method","filter","contact","length","map"],"mappings":"uaAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,C,6IAEA,QAASC,CAAAA,KAAT,EAAiB,CACf,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eAEA;AACA,GAAMC,CAAAA,WAAW,0FAAG,+LAEOC,CAAAA,KAAK,CAAC,gCAAD,CAFZ,QAEVC,QAFU,qCAGOA,CAAAA,QAAQ,CAACC,IAAT,EAHP,QAGVC,QAHU,eAKhBL,WAAW,CAACK,QAAD,CAAX,CALgB,iFAOhBC,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EAPgB,qEAAH,kBAAXP,CAAAA,WAAW,0CAAjB,CAWA;AACA,GAAMQ,CAAAA,aAAa,2FAAG,kBAAOC,EAAP,uIAChBC,MAAM,CAACC,OAAP,CAAe,+CAAf,CADgB,mEAGOV,CAAAA,KAAK,0CAAmCQ,EAAnC,EAAyC,CACnEG,MAAM,CAAE,QAD2D,CAAzC,CAHZ,QAGVV,QAHU,gBAOhBH,WAAW,CAACD,QAAQ,CAACe,MAAT,CAAgB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACL,EAAR,GAAeA,EAAnB,EAAvB,CAAD,CAAX,CAPgB,mFAShBJ,OAAO,CAACC,KAAR,CAAc,aAAMC,OAApB,EATgB,sEAAH,kBAAbC,CAAAA,aAAa,6CAAnB,CAcAd,SAAS,CAAC,UAAM,CACdM,WAAW,GACZ,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,wCACE,KAAC,SAAD,EAAW,gBAAgB,CAAED,WAA7B,EADF,CAEGD,QAAQ,CAACiB,MAAT,CAAkB,CAAlB,cACC,eAAO,SAAS,CAAC,mCAAjB,wBACE,oCACE,mCACE,iCACE,aAAM,SAAS,CAAC,MAAhB,uBADF,EADF,cAIE,kCAJF,cAKE,6BALF,cAME,oCANF,cAOE,kCAPF,cAQE,6BARF,cASE,sCATF,cAUE,sCAVF,cAWE,kCAXF,cAYE,iCAZF,cAaE,kCAbF,cAcE,sCAdF,cAeE,sCAfF,cAgBE,kCAhBF,cAiBE,2CAjBF,cAkBE,+CAlBF,cAmBE,iCACE,aAAM,SAAS,CAAC,MAAhB,qBADF,EAnBF,GADF,EADF,cA0BE,uBACGjB,QAAQ,CAACkB,GAAT,CAAa,SAACF,OAAD,qBACZ,KAAC,OAAD,EAA0B,OAAO,CAAEA,OAAnC,CAA4C,QAAQ,CAAEN,aAAtD,EAAcM,OAAO,CAACL,EAAtB,CADY,EAAb,CADH,EA1BF,GADD,cAkCC,WAAI,SAAS,CAAC,KAAd,yBApCJ,GADF,CAyCD,CAED,cAAeZ,CAAAA,KAAf","sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Contact from \"./Contact\";\nimport SearchBar from \"./SearchBar\";\n\nfunction Table() {\n  const [contacts, setContacts] = useState([]);\n\n  // Get all contacts\n  const getContacts = async () => {\n    try {\n      const response = await fetch(\"http://localhost:8000/contacts\");\n      const jsonData = await response.json();\n\n      setContacts(jsonData);\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  // Delete contact\n  const deleteContact = async (id) => {\n    if (window.confirm(\"Are you sure you want to delete this contact?\")) {\n      try {\n        const response = await fetch(`http://localhost:8000/contacts/${id}`, {\n          method: \"DELETE\"\n        });\n\n        setContacts(contacts.filter(contact => contact.id !== id));\n      } catch (error) {\n        console.error(error.message);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getContacts();\n  }, []);\n\n  return (\n    <>\n      <SearchBar onContactsChange={setContacts} />\n      {contacts.length > 0 ? (\n        <table className=\"table table-striped table-sm my-3\">\n          <thead>\n            <tr>\n              <th>\n                <span className=\"ml-1\">Last Name</span>\n              </th>\n              <th>First Name</th>\n              <th>Email</th>\n              <th>Phone Number</th>\n              <th>House/Yard</th>\n              <th>Suite</th>\n              <th>Mailbox Center</th>\n              <th>Mailbox Number</th>\n              <th>Class Year</th>\n              <th>Home City</th>\n              <th>Home State</th>\n              <th>Should Contact</th>\n              <th>Contact Status</th>\n              <th>PTE Status</th>\n              <th>Registration Status</th>\n              <th>Stage of Voting Process</th>\n              <th>\n                <span className=\"mr-1\">Actions</span>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {contacts.map((contact) => (\n              <Contact key={contact.id} contact={contact} onDelete={deleteContact} />\n            ))}\n          </tbody>\n        </table>\n      ) : (\n        <h4 className=\"m-3\">No Contacts</h4>\n      )}\n    </>\n  );\n}\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}